
DECK: 面试题

## strcpy和strncpy的区别


## 标准答案
### Strcpy 和 strncpy 核心区别解析
两者均为 C 语言字符串拷贝函数，但核心差异集中在**拷贝长度控制**和**安全性**上，简要总结如下：

| 维度         | strcpy                          | strncpy                          |
|--------------|---------------------------------|----------------------------------|
| 拷贝长度     | 无长度限制，从源字符串起始位置一直拷贝到 `\0`（包括 `\0`） | 可指定最大拷贝长度 `n`，最多拷贝 `n` 个字符 |
| 终止符处理   | 必然拷贝源字符串的 `\0`，目标字符串末尾自动带 `\0` | 1. 若源字符串长度 < `n`：剩余位置补 `\0`；<br>2. 若源字符串长度 ≥ `n`：仅拷贝前 `n` 个字符，**不补 `\0`** |
| 安全性       | 不安全：若目标缓冲区长度 < 源字符串长度，会缓冲区溢出 | 相对安全：通过 `n` 限制长度，避免溢出（但需手动补 `\0`） |
| 函数原型     | `char *strcpy(char *dest, const char *src)` | `char *strncpy(char *dest, const char *src, size_t n)` |

### 关键补充
1. Strcpy 本质是“无脑拷贝到结束符”，仅适用于**确定源字符串长度 ≤ 目标缓冲区**的场景，否则会破坏内存；
2. Strncpy 虽可控长度，但需注意：若拷贝满 `n` 个字符（源字符串过长），目标字符串会**无 `\0` 终止符**，直接当作字符串使用会导致越界访问，因此实际使用时需手动补 `\0`（如 `dest[n-1] = '\0'`）；
3. 核心选择逻辑：优先用 strncpy（指定合理的 `n` 并补 `\0`），避免 strcpy 的溢出风险。


## 我的答案



END
<!--ID: 1766665972071-->
