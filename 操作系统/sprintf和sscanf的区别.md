
DECK: 面试题

## sprintf和sscanf的区别


## 标准答案
二者均属于 C 标准库 `<stdio.h>` 中的格式化函数，但**数据流向完全相反**，核心作用和使用场景差异显著：

| 维度   | sprintf                         | sscanf                                 |
| ---- | ------------------------------- | -------------------------------------- |
| 核心作用 | 格式化输出到字符串（内存）                   | 从字符串（内存）格式化读取数据                        |
| 数据流向 | 变量/常量 → 字符串缓冲区                  | 字符串缓冲区 → 变量                            |
| 典型场景 | 拼接字符串、数值转字符串、构造格式化文本            | 解析字符串中的数据、字符串转数值、提取结构化信息               |
| 基础语法 | `sprintf(char *buf, 格式串, 变量列表)` | `sscanf(const char *buf, 格式串, 变量地址列表)` |

### 简单示例
1. **sprintf**：把数值、字符等拼接到字符串中
```c
char buf[100];
int a = 10;
float b = 3.14;
// 将a、b格式化写入buf，buf最终内容："num1=10, num2=3.140000"
sprintf(buf, "num1=%d, num2=%f", a, b);
```

2. **sscanf**：从字符串中提取数据到变量
```c
char buf[] = "num1=10, num2=3.14";
int a;
float b;
// 从buf中按格式提取数值到a、b，最终a=10，b=3.14
sscanf(buf, "num1=%d, num2=%f", &a, &b);
```

### 关键补充
- 二者都需注意格式串与参数的匹配（如 `%d` 对应 int、`%f` 对应 float）；
- sprintf 需确保缓冲区足够大，避免内存越界；sscanf 读取失败时返回成功匹配的参数个数，可用于校验解析结果。

## 我的答案



END
<!--ID: 1766665972081-->
