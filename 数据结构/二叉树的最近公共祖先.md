

DECK: 面试题-hot100

## 二叉树的最近公共祖先

**提示：**

- 树中节点数目在范围 `[2, 105]` 内。
- `-109 <= Node.val <= 109`
- 所有 `Node.val` `互不相同` 。
- `p != q`
- `p` 和 `q` 均存在于给定的二叉树中。

## 思路

分类讨论，两个节点的公共祖先
1. 如果根节点是 None 或者 p 或者 q，直接返回 root
2. 根节点不是，此时看递归返回值
	1. 左递归值和右递归值都是祖先候选，则返回 root
	2. 左递归值是祖先候选，则返回 left
	3. 右递归值是祖先候选，则返回 right

为什么这么讨论，可以继续解释。
因为这道题有一个前提条件，`
- `p` 和 `q` 均存在于给定的二叉树中。
所以左右都是祖先候选的话，说明 p、q各分布于左右子树中，那么答案就是当前根节点
而如果**有且仅有**一条子树是祖先候选的话，那么 p，q 都在那条子树中，答案**必然**在那条子树里。

## 标准解法

``` python
class Solution:
    def lowestCommonAncestor(self, root: 'TreeNode', p: 'TreeNode', q: 'TreeNode') -> 'TreeNode':
        if root in (None, p, q):
            return root
        
        left = self.lowestCommonAncestor(root.left, p, q)
        right = self.lowestCommonAncestor(root.right, p, q)
        if left and right:
            return root
        
        return left or right
        
```

## 我的解法


END
<!--ID: 1763953475377-->

